import{_ as p,r as i,o as h,c as u,f as c,b as t,d as e,e as a,w as o,a as r}from"./app.33ffcc50.js";const m={},f=t("h1",{id:"viewmodel-layer",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#viewmodel-layer","aria-hidden":"true"},"#"),e(" ViewModel Layer")],-1),y=t("code",null,"viewmodels.g.ts",-1),g=t("p",null,"These classes provide a wide array of functionality that is useful when interacting with your data model through a user interface. The generated ViewModels are the primary way that Coalesce is used when developing a Vue application.",-1),v={class:"table-of-contents"},_=t("h2",{id:"viewmodels",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#viewmodels","aria-hidden":"true"},"#"),e(" ViewModels")],-1),b=t("code",null,"viewmodels.g.ts",-1),w=t("code",null,"<TypeName>ViewModel",-1),D=t("h3",{id:"model-data-properties",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#model-data-properties","aria-hidden":"true"},"#"),e(" Model Data Properties")],-1),$=r('<p>There are a few special behaviors when assigning to different kinds of data properties on View Models as well:</p><h4 id="model-object-properties" tabindex="-1"><a class="header-anchor" href="#model-object-properties" aria-hidden="true">#</a> Model Object Properties</h4><ul><li>If the object being assigned to the property is not a ViewModel instance, a new instance will be created automatically and used instead of the incoming object.</li><li>If the model property is a reference navigation, the corresponding foreign key property will automatically be set to the primary key of that object. If the incoming value was null, the foreign key will be set to null.</li><li>If deep auto-saves are enabled on the instance being assigned to, auto-save will be spread to the incoming object, and to all other objects reachable from that object.</li></ul><h4 id="model-collection-properties" tabindex="-1"><a class="header-anchor" href="#model-collection-properties" aria-hidden="true">#</a> Model Collection Properties</h4><ul><li>When assigning an entire array, any items in the array that are not a ViewModel instance will have an instance created for them.</li><li>The same rule goes for pushing items into the existing array for a model collection - a new ViewModel instance will be created and be used instead of the object(s) being pushed.</li></ul><h4 id="foreign-key-properties" tabindex="-1"><a class="header-anchor" href="#foreign-key-properties" aria-hidden="true">#</a> Foreign Key Properties</h4><p>If the corresponding navigation property contains an object, and that object&#39;s primary key doesn&#39;t match the new foreign key value being assigned, the navigation property will be set to null.</p><h3 id="other-data-properties-functions" tabindex="-1"><a class="header-anchor" href="#other-data-properties-functions" aria-hidden="true">#</a> Other Data Properties &amp; Functions</h3>',8),M=t("p",null,"An immutable number that is unique among all ViewModel instances, regardless of type.",-1),P=t("p",null,[e("Useful for uniquely identifying instances with "),t("code",null,':key="vm.$stableId"'),e(" in a Vue component, especially for instances that lack a primary key.")],-1),C=t("p",null,"A getter/setter property that wraps the primary key of the model. Used to interact with the primary key of any ViewModel in a polymorphic way.",-1),k=t("p",null,"Returns a string representation of the object, or one of its properties if specified, suitable for display.",-1),A=t("p",null,"Creates a new instance of an item for the specified child model collection, adds it to that collection, and returns the item.",-1),x=t("h3",{id:"api-callers-parameters",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#api-callers-parameters","aria-hidden":"true"},"#"),e(" API Callers & Parameters")],-1),V=t("code",null,"/get",-1),T=t("code",null,"id",-1),I=t("code",null,"$primaryKey",-1),S=t("code",null,"$params",-1),E=t("code",null,"/save",-1),R=t("code",null,"$params",-1),j=r('<p><code>overrideProps</code> can provide properties to save that override the <a href="#model-data-properties">data properties</a> on the ViewModel instance. This allows for manually saving a change to a property without setting the property on the ViewModel instance into a dirty state. This makes it easier to handle some scenarios where changing the value of the property may put the UI into a logically inconsistent state until the save response has been returned from the server - for example, if a change to one property affects the computed value of other properties.</p><p>When a save creates a new record and a new primary key is returned from the server, any entities attached to the current ViewModel via a collection navigation property will have their foreign keys set to the new primary key. This behavior, combined with the usage of deep auto-saves, allows for complex object graphs to be constructed even before any model in the graph has been created.</p><p>When a save is in progress, the names of properties being saved are in contained in <code>$savingProps</code>.</p><p>Saving behavior can be further customized with <code>$loadResponseFromSaves</code> and <code>$saveMode</code>, listed below.</p>',4),F=t("p",null,[e("Default "),t("code",null,"true"),e(" - controls if a ViewModel will be loaded with the data from the model returned by the "),t("code",null,"/save"),e(" endpoint when saved with the "),t("code",null,"$save"),e(" API caller. There is seldom any reason to disable this.")],-1),L=t("p",null,"Configures which properties of the model are sent to the server during a save.",-1),G={style:{"margin-left":"20px"}},N=t("p",null,[t("code",null,'"surgical"'),e(" (default)")],-1),O=t("p",null,"By default, only dirty properties (and always the primary key) are sent to the server when performing a save.",-1),U=t("p",null,"This improves the handling of concurrent changes being made by multiple users against different fields of the same entity at the same time - specifically, it prevents a user with a stale value of some field X from overwriting a more recent value of X in the database when the user is only making changes to some other property Y and has no intention of changing X.",-1),q=t("code",null,'"surgical"',-1),W={href:"https://docs.microsoft.com/en-us/ef/core/saving/concurrency",target:"_blank",rel:"noopener noreferrer"},z={class:"custom-container warning"},B=t("p",{class:"custom-container-title"},"WARNING",-1),K=t("p",null,[e("Surgical saves require DTOs on the server that are capable of determining which of their properties have been set by the model binder, as surgical saves are sent from the client by entirely omitting properties from the "),t("code",null,"x-www-form-urlencoded"),e(" body that is sent to the server.")],-1),X=t("p",null,[t("code",null,'"whole"')],-1),Y=t("p",null,"All serializable properties of the object are sent back to the server with every save.",-1),J=t("p",null,[e("When "),t("code",null,"$save.isLoading == true"),e(", contains the properties of the model currently being saved by "),t("code",null,"$save"),e(" (including auto-saves). Does not include non-dirty properties even if "),t("code",null,"$saveMode == 'whole'"),e(".")],-1),H=t("p",null,"This can be used to make per-property UI state changes during saves - for example, displaying progress indicators on/near individual inputs, or disabling input controls.",-1),Q=t("code",null,"/delete",-1),Z=t("code",null,"$params",-1),ee=t("p",null,"If the object was loaded as a child of a collection, it will be removed from that collection upon being deleted. Note that ViewModels currently only support tracking of a single parent collection, so if an object is programmatically added to additional collections, it will only be removed from one of them upon delete.",-1),te=t("code",null,"$load",-1),ae=t("code",null,"$save",-1),oe=t("code",null,"$delete",-1),se=t("code",null,"$params.dataSource",-1),ne=t("code",null,"$params.includes",-1),le=t("h3",{id:"auto-save-dirty-flags",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#auto-save-dirty-flags","aria-hidden":"true"},"#"),e(" Auto-save & Dirty Flags")],-1),re=t("code",null,"$save",-1),ie=r(`<p>Requires a reference to a Vue instance in order to manage lifetime (auto-save hooks will be destroyed when the Vue component provided is destroyed). Options are as follows:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{ </span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** Time, in milliseconds, to debounce saves for.  */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">wait</span><span style="color:#D4D4D4;">?: </span><span style="color:#9CDCFE;">number</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** If true, auto-saving will also be enabled for all view models that are</span></span>
<span class="line"><span style="color:#6A9955;">        reachable from the navigation properties &amp; collections of the current view model. */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">deep</span><span style="color:#D4D4D4;">?: </span><span style="color:#9CDCFE;">boolean</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** A function that will be called before autosaving that can return false to prevent a save. </span></span>
<span class="line"><span style="color:#6A9955;">        Only allowed if not using deep auto-saves.</span></span>
<span class="line"><span style="color:#6A9955;">    */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">predicate</span><span style="color:#D4D4D4;">?: (</span><span style="color:#9CDCFE;">viewModel</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">TThis</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">boolean</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),de=t("p",null,[e("Turns off auto-saving of the instance. Does not recursively disable auto-saves on related instances if "),t("code",null,"deep"),e(" was used when auto-save was enabled.")],-1),ce=t("p",null,"Returns true if the given property is flagged as dirty.",-1),pe=t("p",null,"Manually set the dirty flag of the given property to the desired state. This seldom needs to be done explicitly, as mutating a property will automatically flag it as dirty.",-1),he=t("p",null,[e("If "),t("code",null,"dirty"),e(" is true and "),t("code",null,"triggerAutosave"),e(" is false, auto-save (if enabled) will not be immediately triggered for this specific flag change. Note that a future change to any other property's dirty flag will still trigger a save of all dirty properties.")],-1),ue=t("p",null,"Getter/setter that summarizes the model's property-level dirty flags. Returns true if any properties are dirty.",-1),me=t("p",null,"When set to false, all property dirty flags are cleared. When set to true, all properties are marked as dirty.",-1),fe=t("p",null,"Loads data from the provided model into the current ViewModel, and then clears all dirty flags.",-1),ye=t("p",null,"Data is loaded recursively into all related ViewModel instances, preserving existing instances whose primary keys match the incoming data.",-1),ge=t("p",null,[e("If auto-save is enabled, only non-dirty properties are updated. This prevents user input that is pending a save from being overwritten by the response from an auto-save "),t("code",null,"/save"),e(" request.")],-1),ve=t("p",null,[e("Same as "),t("code",null,"$loadCleanData"),e(", but does not clear any existing dirty flags, nor does it clear any dirty flags that will be set while mutating the data properties of any ViewModel instance that gets loaded.")],-1),_e=t("p",null,[e("Create a new instance of the ViewModel, loading the given initial data with "),t("code",null,"$loadDirtyData()"),e(" if provided.")],-1),be=t("h3",{id:"rules-validation",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#rules-validation","aria-hidden":"true"},"#"),e(" Rules/Validation")],-1),we=t("p",null,[e("Add a custom validation rule to the ViewModel for the specified property. "),t("code",null,"identifier"),e(" should be a short, unique slug that describes the rule; it is not displayed in the UI, but is used if you wish to later remove the rule with "),t("code",null,"$removeRule()"),e(".")],-1),De=t("p",null,[e("The function you provide should take a single argument that contains the current value of the property, and should either return "),t("code",null,"true"),e(" to indicate that the validation rule has succeeded, or a string that will be displayed as an error message to the user.")],-1),$e=t("p",null,[e("Any failing validation rules on a ViewModel will prevent that ViewModel's "),t("code",null,"$save"),e(" caller from being invoked.")],-1),Me=t("p",null,"Remove a validation rule from the ViewModel for the specified property and rule identifier.",-1),Pe=t("code",null,"$addRule",-1),Ce=t("code",null,"metadata.g.ts",-1),ke=t("p",null,[e("Returns an array of active rule functions for the specified property, or "),t("code",null,"undefined"),e(" if the property has no active validation rules.")],-1),Ae={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",target:"_blank",rel:"noopener noreferrer"},xe=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[e("You can obtain an array from a generator with "),t("code",null,"Array.from(vm.$getErrors())"),e(" or "),t("code",null,"[...vm.$getErrors()]")])],-1),Ve=t("p",null,"Indicates if any properties have validation errors.",-1),Te=t("h3",{id:"generated-members",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#generated-members","aria-hidden":"true"},"#"),e(" Generated Members")],-1),Ie=t("h4",{id:"method-callers",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#method-callers","aria-hidden":"true"},"#"),e(" Method Callers")],-1),Se=t("h4",{id:"addto-functions",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#addto-functions","aria-hidden":"true"},"#"),e(),t("code",null,"addTo*()"),e(" Functions")],-1),Ee=t("h4",{id:"many-to-many-helper-collections",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#many-to-many-helper-collections","aria-hidden":"true"},"#"),e(" Many-to-many helper collections")],-1),Re=t("h2",{id:"listviewmodels",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#listviewmodels","aria-hidden":"true"},"#"),e(" ListViewModels")],-1),je=t("p",null,[e("The following members can be found on the generated ListViewModels, exported from "),t("code",null,"viewmodels.g.ts"),e(" as "),t("code",null,"*TypeName*ListViewModel"),e(".")],-1),Fe=t("h3",{id:"data-properties",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#data-properties","aria-hidden":"true"},"#"),e(" Data Properties")],-1),Le=t("code",null,"$load",-1),Ge=t("h3",{id:"parameters-api-callers",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#parameters-api-callers","aria-hidden":"true"},"#"),e(" Parameters & API Callers")],-1),Ne=t("code",null,"$load",-1),Oe=t("code",null,"$count",-1),Ue=t("code",null,"$params.dataSource",-1),qe=t("code",null,"$params.includes",-1),We=t("code",null,"/list",-1),ze=t("code",null,"$params",-1),Be=t("p",null,[e("Results are available in the "),t("code",null,"$items"),e(" property. The "),t("code",null,"result"),e(" property of the "),t("code",null,"$load"),e(" API Caller contains the raw results and is not recommended for use in general development - "),t("code",null,"$items"),e(" should always be preferred.")],-1),Ke=t("code",null,"/count",-1),Xe=t("code",null,"$params",-1),Ye=t("p",null,[e("The result is available in "),t("code",null,"$count.result"),e(" - this API Caller does not interact with other properties on the ListViewModel like "),t("code",null,"$pageSize"),e(" or "),t("code",null,"$pageCount"),e(".")],-1),Je=t("p",null,[e("Properties which indicate if "),t("code",null,"$page"),e(" can be decremented or incremented, respectively. "),t("code",null,"$pageCount"),e(" and "),t("code",null,"$page"),e(" are used to make this determination.")],-1),He=t("p",null,[e("Methods that will decrement or increment "),t("code",null,"$page"),e(", respectively. Each does nothing if there is no previous or next page as returned by "),t("code",null,"$hasPreviousPage"),e(" and "),t("code",null,"$hasNextPage"),e(".")],-1),Qe=t("p",null,[e("Getter/setter wrapper for "),t("code",null,"$params.page"),e(". Controls the page that will be requested on the next invocation of "),t("code",null,"$load"),e(".")],-1),Ze=t("p",null,[e("Getter/setter wrapper for "),t("code",null,"$params.pageSize"),e(". Controls the page that will be requested on the next invocation of "),t("code",null,"$load"),e(".")],-1),et=t("p",null,[e("Shorthand for "),t("code",null,"$load.pageCount"),e(" - returns the page count reported by the last successful invocation of "),t("code",null,"$load"),e(".")],-1),tt=t("h3",{id:"auto-load",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#auto-load","aria-hidden":"true"},"#"),e(" Auto-Load")],-1),at=t("code",null,"$load",-1),ot=r(`<p>Requires a reference to a Vue instance in order to manage lifetime (auto-load hooks will be destroyed when the Vue component provided is destroyed). Options are as follows:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{ </span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** Time, in milliseconds, to debounce loads for.  */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">wait</span><span style="color:#D4D4D4;">?: </span><span style="color:#9CDCFE;">number</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** Additional options to pass to the third parameter of lodash&#39;s \`debounce\` function. */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">debounce</span><span style="color:#D4D4D4;">?: </span><span style="color:#9CDCFE;">DebounceSettings</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">/** A function that will be called before loading that can return false to prevent a load. */</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">predicate</span><span style="color:#D4D4D4;">?: (</span><span style="color:#9CDCFE;">viewModel</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">TThis</span><span style="color:#D4D4D4;">) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">boolean</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),st=t("p",null,"Manually turns off auto-loading of the instance.",-1),nt=t("h3",{id:"generated-members-1",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#generated-members-1","aria-hidden":"true"},"#"),e(" Generated Members")],-1),lt=t("h4",{id:"method-callers-1",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#method-callers-1","aria-hidden":"true"},"#"),e(" Method Callers")],-1),rt=r('<h2 id="service-viewmodels" tabindex="-1"><a class="header-anchor" href="#service-viewmodels" aria-hidden="true">#</a> Service ViewModels</h2><p>The following members can be found on the generated Service ViewModels, exported from <code>viewmodels.g.ts</code> as <code>&lt;ServiceName&gt;ViewModel</code>.</p><h3 id="generated-members-2" tabindex="-1"><a class="header-anchor" href="#generated-members-2" aria-hidden="true">#</a> Generated Members</h3><h4 id="method-callers-2" tabindex="-1"><a class="header-anchor" href="#method-callers-2" aria-hidden="true">#</a> Method Callers</h4>',4);function it(dt,ct){const s=i("RouterLink"),l=i("router-link"),n=i("Prop"),d=i("ExternalLinkIcon");return h(),u("div",null,[f,c(" MARKER:summary "),t("p",null,[e("The ViewModel layer, generated as "),y,e(", exports a ViewModel class for each API-backed type in your data model ("),a(s,{to:"/modeling/model-types/entities.html"},{default:o(()=>[e("Entity Models")]),_:1}),e(", "),a(s,{to:"/modeling/model-types/dtos.html"},{default:o(()=>[e("Custom DTOs")]),_:1}),e(", and "),a(s,{to:"/modeling/model-types/services.html"},{default:o(()=>[e("Services")]),_:1}),e("). It also exports a ListViewModel type for "),a(s,{to:"/modeling/model-types/entities.html"},{default:o(()=>[e("Entity Models")]),_:1}),e(" and "),a(s,{to:"/modeling/model-types/dtos.html"},{default:o(()=>[e("Custom DTOs")]),_:1}),e(".")]),g,c(" MARKER:summary-end "),t("nav",v,[t("ul",null,[t("li",null,[a(l,{to:"#viewmodels"},{default:o(()=>[e("ViewModels")]),_:1}),t("ul",null,[t("li",null,[a(l,{to:"#model-data-properties"},{default:o(()=>[e("Model Data Properties")]),_:1})]),t("li",null,[a(l,{to:"#other-data-properties-functions"},{default:o(()=>[e("Other Data Properties & Functions")]),_:1})]),t("li",null,[a(l,{to:"#api-callers-parameters"},{default:o(()=>[e("API Callers & Parameters")]),_:1})]),t("li",null,[a(l,{to:"#auto-save-dirty-flags"},{default:o(()=>[e("Auto-save & Dirty Flags")]),_:1})]),t("li",null,[a(l,{to:"#rules-validation"},{default:o(()=>[e("Rules/Validation")]),_:1})]),t("li",null,[a(l,{to:"#generated-members"},{default:o(()=>[e("Generated Members")]),_:1})])])]),t("li",null,[a(l,{to:"#listviewmodels"},{default:o(()=>[e("ListViewModels")]),_:1}),t("ul",null,[t("li",null,[a(l,{to:"#data-properties"},{default:o(()=>[e("Data Properties")]),_:1})]),t("li",null,[a(l,{to:"#parameters-api-callers"},{default:o(()=>[e("Parameters & API Callers")]),_:1})]),t("li",null,[a(l,{to:"#auto-load"},{default:o(()=>[e("Auto-Load")]),_:1})]),t("li",null,[a(l,{to:"#generated-members-1"},{default:o(()=>[e("Generated Members")]),_:1})])])]),t("li",null,[a(l,{to:"#service-viewmodels"},{default:o(()=>[e("Service ViewModels")]),_:1}),t("ul",null,[t("li",null,[a(l,{to:"#generated-members-2"},{default:o(()=>[e("Generated Members")]),_:1})])])])])]),_,t("p",null,[e("The following members can be found on the generated "),a(s,{to:"/modeling/model-types/entities.html"},{default:o(()=>[e("Entity")]),_:1}),e(" and "),a(s,{to:"/modeling/model-types/dtos.html"},{default:o(()=>[e("Custom DTO")]),_:1}),e(" ViewModels, exported from "),b,e(" as "),w,e(".")]),D,t("p",null,[e("Each ViewModel class implements the corresponding interface from the "),a(s,{to:"/stacks/vue/layers/models.html"},{default:o(()=>[e("Model Layer")]),_:1}),e(", meaning that the ViewModel has a data property for each "),a(s,{to:"/modeling/model-components/properties.html"},{default:o(()=>[e("Property")]),_:1}),e(" on the model. Object-typed properties will be typed as the corresponding generated ViewModel.")]),t("p",null,[e("Changing the value of a property will automatically flag that property as dirty. See "),a(s,{to:"/stacks/vue/layers/viewmodels.html"},{default:o(()=>[e("Auto-save & Dirty Flags")]),_:1}),e(" below for information on how property dirty flags are used.")]),$,a(n,{def:"readonly $metadata: ModelType",lang:"ts"}),t("p",null,[e("The metadata object from the "),a(s,{to:"/stacks/vue/layers/metadata.html"},{default:o(()=>[e("Metadata Layer")]),_:1}),e(" layer for the type represented by the ViewModel.")]),a(n,{def:"readonly $stableId: number",lang:"ts"}),M,P,a(n,{def:"$primaryKey: string | number",lang:"ts"}),C,a(n,{def:"$display(prop?: string | Property): string",lang:"ts"}),k,a(n,{def:"$addChild(prop: string | ModelCollectionNavigationProperty)",lang:"ts"}),A,x,a(n,{def:`$load: ItemApiState;
$load(id?: TKey) => ItemResultPromise<TModel>;`,lang:"ts",idPrefix:"member-item"}),t("p",null,[e("An "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" for the "),V,e(" endpoint. Accepts an optional "),T,e(" argument - if not provided, the ViewModel's "),I,e(" is used instead. Uses the instance's "),S,e(" object for the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(".")]),a(n,{def:`$save: ItemApiState;
$save(overrideProps?: Partial<TModel>) => ItemResultPromise<TModel>;`,lang:"ts",idPrefix:"member-item"}),t("p",null,[e("An "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" for the "),E,e(" endpoint. Uses the instance's "),R,e(" object for the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(".")]),t("p",null,[e("This caller is used for both manually-triggered saves in custom code and for auto-saves. If the "),a(s,{to:"/stacks/vue/layers/viewmodels.html#rules-validation"},{default:o(()=>[e("Rules/Validation")]),_:1}),e(" report any errors when the caller is invoked, an error will be thrown.")]),j,a(n,{def:"$loadResponseFromSaves: boolean",lang:"ts"}),F,a(n,{def:"$saveMode: 'surgical' | 'whole'",lang:"ts"}),L,t("div",G,[N,O,U,t("p",null,[e("Save mode "),q,e(" doesn't help when multiple users are editing field X at the same time - if such a scenario is applicable to your application, you must implement "),t("a",W,[e("more advanced handling of concurrency conflicts"),a(d)]),e(".")]),t("div",z,[B,K,t("p",null,[e("The "),a(s,{to:"/stacks/agnostic/dtos.html"},{default:o(()=>[e("Generated C# DTOs")]),_:1}),e(" implement the necessary logic for this; however, any "),a(s,{to:"/modeling/model-types/dtos.html"},{default:o(()=>[e("Custom DTOs")]),_:1}),e(" must have this logic manually written by you, the developer. Either implement the same pattern that can be seen in the "),a(s,{to:"/stacks/agnostic/dtos.html"},{default:o(()=>[e("Generated C# DTOs")]),_:1}),e(", or do not use surgical saves with Custom DTOs.")])]),X,Y]),a(n,{def:"$savingProps: ReadonlySet<string>",lang:"ts"}),J,H,a(n,{def:`$delete: ItemApiState;
$delete() => ItemResultPromise<TModel>;`,lang:"ts",idPrefix:"member-item"}),t("p",null,[e("An "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" for the "),Q,e(" endpoint. Uses the instance's "),Z,e(" object for the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(".")]),ee,a(n,{def:"$params: DataSourceParameters",lang:"ts",idPrefix:"member-item"}),t("p",null,[e("An object containing the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(" to be used for the "),te,e(", "),ae,e(", and "),oe,e(" API callers.")]),a(n,{def:"$dataSource: DataSource",lang:"ts",idPrefix:"member-item"}),t("p",null,[e("Getter/setter wrapper around "),se,e(". Takes an instance of a "),a(s,{to:"/modeling/model-components/data-sources.html"},{default:o(()=>[e("Data Source")]),_:1}),e(" class "),a(s,{to:"/stacks/vue/layers/models.html"},{default:o(()=>[e("generated in the Model Layer")]),_:1}),e(".")]),a(n,{def:"$includes: string | null",lang:"ts",idPrefix:"member-item"}),t("p",null,[e("Getter/setter wrapper around "),ne,e(". See "),a(s,{to:"/concepts/includes.html"},{default:o(()=>[e("Includes String")]),_:1}),e(" for more information.")]),le,a(n,{def:"$startAutosave(vue: Vue, options: AutoSaveOptions<this> = {})",lang:"ts"}),t("p",null,[e("Starts auto-saving of the instance when its savable data properties become dirty. Saves are performed with the "),re,e(),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" (documented above) and will not be performed if the ViewModel has any validation errors - see "),a(s,{to:"/stacks/vue/layers/viewmodels.html#rules-validation"},{default:o(()=>[e("Rules/Validation")]),_:1}),e(" below.")]),ie,a(n,{def:"$stopAutosave(): void",lang:"ts"}),de,a(n,{def:"$getPropDirty(propName: string): boolean",lang:"ts"}),ce,a(n,{def:"$setPropDirty(propName: string, dirty: boolean = true, triggerAutosave = true)",lang:"ts"}),pe,he,a(n,{def:"$isDirty: boolean",lang:"ts"}),ue,me,a(n,{def:"$loadCleanData(source: {} | TModel)",lang:"ts"}),fe,ye,ge,a(n,{def:"$loadDirtyData(source: {} | TModel)",lang:"ts"}),ve,a(n,{def:"constructor(initialDirtyData?: {} | TModel | null)",lang:"ts"}),_e,be,a(n,{def:"$addRule(prop: string | Property, identifier: string, rule: (val: any) => true | string)",lang:"ts"}),we,De,$e,a(n,{def:"$removeRule(prop: string | Property, identifier: string)",lang:"ts"}),Me,t("p",null,[e("This can be used to remove either a rule that was provided by the generated "),a(s,{to:"/stacks/vue/layers/metadata.html"},{default:o(()=>[e("Metadata Layer")]),_:1}),e(", or a custom rule that was added by "),Pe,e(". Reference your generated metadata file "),Ce,e(" to see any generated rules and the identifiers they use.")]),a(n,{def:"$getRules(prop: string | Property): ((val: any) => string | true)[]",lang:"ts"}),ke,a(n,{def:"$getErrors(prop?: string | Property): Generator<string>",lang:"ts"}),t("p",null,[e("Returns a "),t("a",Ae,[e("generator"),a(d)]),e(" that provides all error messages for either a specific property (if provided) or the entire model (if no prop argument is provided).")]),xe,a(n,{def:"readonly $hasError: boolean",lang:"ts"}),Ve,Te,Ie,t("p",null,[e("For each of the instance "),a(s,{to:"/modeling/model-components/methods.html"},{default:o(()=>[e("Methods")]),_:1}),e(" of the type, an "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" will be generated.")]),Se,t("p",null,[e("For each "),a(s,{to:"/modeling/model-components/properties.html"},{default:o(()=>[e("collection navigation property")]),_:1}),e(", a method is generated that will create a new instance of the ViewModel for the collected type, add it to the collection, and then return the new object.")]),Ee,t("p",null,[e("For each "),a(s,{to:"/modeling/model-components/properties.html"},{default:o(()=>[e("collection navigation property")]),_:1}),e(" annotated with "),a(s,{to:"/modeling/model-components/attributes/many-to-many.html"},{default:o(()=>[e("[ManyToMany]")]),_:1}),e(", a getter-only property is generated that returns a collection of the object on the far side of the many-to-many relationship. Nulls are filtered from this collection.")]),Re,je,Fe,a(n,{def:"readonly $items: T[]",lang:"ts"}),t("p",null,[e("Collection holding the results of the last successful invocation of the "),Le,e(),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(".")]),Ge,a(n,{def:"$params: ListParameters",lang:"ts",idPrefix:"member-list"}),t("p",null,[e("An object containing the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(" to be used for the "),Ne,e(" and "),Oe,e(" API callers.")]),a(n,{def:"$dataSource: DataSource",lang:"ts",idPrefix:"member-list"}),t("p",null,[e("Getter/setter wrapper around "),Ue,e(". Takes an instance of a "),a(s,{to:"/modeling/model-components/data-sources.html"},{default:o(()=>[e("Data Source")]),_:1}),e(" class "),a(s,{to:"/stacks/vue/layers/models.html"},{default:o(()=>[e("generated in the Model Layer")]),_:1}),e(".")]),a(n,{def:"$includes: string | null",lang:"ts",idPrefix:"member-list"}),t("p",null,[e("Getter/setter wrapper around "),qe,e(". See "),a(s,{to:"/concepts/includes.html"},{default:o(()=>[e("Includes String")]),_:1}),e(" for more information.")]),a(n,{def:`$load: ListApiState;
$load() => ListResultPromise<TModel>`,lang:"ts",idPrefix:"member-list"}),t("p",null,[e("An "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" for the "),We,e(" endpoint. Uses the instance's "),ze,e(" object for the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(".")]),Be,a(n,{def:`$count: ItemApiState;
$count() => ItemResultPromise<number>`,lang:"ts"}),t("p",null,[e("An "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" for the "),Ke,e(" endpoint. Uses the instance's "),Xe,e(" object for the "),a(s,{to:"/modeling/model-components/data-sources.html#standard-parameters"},{default:o(()=>[e("Standard Parameters")]),_:1}),e(".")]),Ye,a(n,{def:`readonly $hasPreviousPage: boolean 
readonly $hasNextPage: boolean`,lang:"ts"}),Je,a(n,{def:`$previousPage(): void 
$nextPage(): void`,lang:"ts"}),He,a(n,{def:"$page: number",lang:"ts"}),Qe,a(n,{def:"$pageSize: number",lang:"ts"}),Ze,a(n,{def:"readonly $pageCount: number",lang:"ts"}),et,tt,a(n,{def:"$startAutoLoad(vue: Vue, options: AutoLoadOptions<this> = {})",lang:"ts"}),t("p",null,[e("Starts auto-loading of the list as changes to its parameters occur. Loads are performed with the "),at,e(),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(".")]),ot,a(n,{def:"$stopAutoLoad()",lang:"ts"}),st,nt,lt,t("p",null,[e("For each of the static "),a(s,{to:"/modeling/model-components/methods.html"},{default:o(()=>[e("Methods")]),_:1}),e(" on the type, an "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" will be created.")]),rt,t("p",null,[e("For each method of the "),a(s,{to:"/modeling/model-types/services.html"},{default:o(()=>[e("Service")]),_:1}),e(", an "),a(s,{to:"/stacks/vue/layers/api-clients.html#api-callers"},{default:o(()=>[e("API Caller")]),_:1}),e(" will be created.")])])}const ht=p(m,[["render",it],["__file","viewmodels.html.vue"]]);export{ht as default};
