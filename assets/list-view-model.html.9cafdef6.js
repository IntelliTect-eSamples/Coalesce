import{_ as r,r as i,o as d,c,b as e,d as t,e as s,w as n,a as u}from"./app.33ffcc50.js";const h={},p=e("h1",{id:"typescript-listviewmodels",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#typescript-listviewmodels","aria-hidden":"true"},"#"),t(" TypeScript ListViewModels")],-1),m=e("p",null,"These ListViewModels, like the ViewModels, are dependent on Knockout and are designed to be used directly from Knockout bindings in your HTML.",-1),f={class:"table-of-contents"},g=e("h2",{id:"base-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#base-members","aria-hidden":"true"},"#"),t(" Base Members")],-1),b=e("p",null,[t("The following members are defined on "),e("code",null,"BaseListViewModel<>"),t(" and are available to the ListViewModels for all of your model types:")],-1),_=e("p",null,"Name of the primary key of the model that this list represents.",-1),y=e("p",null,"The collection of items that have been loaded from the server.",-1),w=e("p",null,"Adds a new item to the items collection.",-1),v=e("p",null,"Deletes an item and removes it from the items collection.",-1),D=e("p",null,"An arbitrary URL query string to append to the API call when loading the list of items.",-1),C=e("p",null,"True if the list is loading.",-1),k=e("p",null,"True once the list has been loaded.",-1),S=e("p",null,"Load the list using current parameters for paging, searching, etc Result is placed into the items property.",-1),M=e("p",null,"If a load failed, this is a message about why it failed.",-1),T=e("p",null,"Gets the count of items without getting all the items. Result is placed into the count property.",-1),x=e("p",null,"The result of getCount(), or the total on this page.",-1),L=e("p",null,"Total count of items, even ones that are not on the page.",-1),V=e("p",null,"Change to the next page.",-1),P=e("p",null,"True if there is another page after the current page.",-1),O=e("p",null,"Change to the previous page.",-1),N=e("p",null,"True if there is another page before the current page.",-1),E=e("p",null,"Page number. This can be set to get a new page.",-1),K=e("p",null,"Total page count",-1),I=e("p",null,"Number of items on a page.",-1),F=e("p",null,"Name of a field by which this list will be loaded in ascending order.",-1),j=e("code",null,'"none"',-1),A=e("p",null,"Name of a field by which this list will be loaded in descending order.",-1),B=e("p",null,"Toggles sorting between ascending, descending, and no order on the specified field.",-1),q=e("h2",{id:"model-specific-members",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#model-specific-members","aria-hidden":"true"},"#"),t(" Model-Specific Members")],-1),R=e("h3",{id:"configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#configuration","aria-hidden":"true"},"#"),t(" Configuration")],-1),W=e("h3",{id:"filter-object",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#filter-object","aria-hidden":"true"},"#"),t(" Filter Object")],-1),J=e("p",null,[t("For each exposed scalar property on the underlying EF POCO, "),e("code",null,"filter"),t(" will have a corresponding property. If the "),e("code",null,"filter"),t(" object is set, requests made to the server to retrieve data will be passed all the values in this object via the URL's query string. These parameters will filter the resulting data to only rows where the parameter values match the row's values. For example, if "),e("code",null,"filter.companyId"),t(" is set to a value, only people from that company will be returned.")],-1),Q=u(`<ul><li>Dates with a time component will be matched exactly.</li><li>Dates with no time component will match any dates that fell on that day.</li><li>Strings will match exactly unless an asterisk is found, in which case they will be matched with <code>string.StartsWith</code>.</li><li>Enums will match by string or numeric value. Multiple comma-delimited values will create a filter that will match on any of the provided values.</li><li>Numeric values will match exactly. Multiple comma-delimited values will create a filter that will match on any of the provided values.</li></ul><p>Example usage:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">var</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">list</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">ListViewModels</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">PersonList</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#9CDCFE;">list</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">filter</span><span style="color:#D4D4D4;"> = { </span><span style="color:#9CDCFE;">lastName:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;Erickson&quot;</span><span style="color:#D4D4D4;"> };</span></span>
<span class="line"><span style="color:#9CDCFE;">list</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">load</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="static-method-members" tabindex="-1"><a class="header-anchor" href="#static-method-members" aria-hidden="true">#</a> Static Method Members</h3>`,4),z=e("h3",{id:"datasources",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#datasources","aria-hidden":"true"},"#"),t(" DataSources")],-1),G=e("code",null,"ListViewModels.<ClassName>DataSources",-1),U=e("code",null,"ViewModel",-1),H=e("code",null,"ListViewModel",-1),X=e("code",null,"dataSources",-1),Y=e("code",null,"dataSource",-1);function Z($,ee){const a=i("RouterLink"),l=i("router-link"),o=i("Prop");return d(),c("div",null,[p,e("p",null,[t("In addition to "),s(a,{to:"/stacks/ko/client/view-model.html"},{default:n(()=>[t("TypeScript ViewModels")]),_:1}),t(" for interacting with instances of your data classes in TypeScript, Coalesce will also generated a List ViewModel for loading searched, sorted, paginated data from the server.")]),m,e("nav",f,[e("ul",null,[e("li",null,[s(l,{to:"#base-members"},{default:n(()=>[t("Base Members")]),_:1})]),e("li",null,[s(l,{to:"#model-specific-members"},{default:n(()=>[t("Model-Specific Members")]),_:1}),e("ul",null,[e("li",null,[s(l,{to:"#configuration"},{default:n(()=>[t("Configuration")]),_:1})]),e("li",null,[s(l,{to:"#filter-object"},{default:n(()=>[t("Filter Object")]),_:1})]),e("li",null,[s(l,{to:"#static-method-members"},{default:n(()=>[t("Static Method Members")]),_:1})]),e("li",null,[s(l,{to:"#datasources"},{default:n(()=>[t("DataSources")]),_:1})])])])])]),g,b,s(o,{def:"modelKeyName: string",lang:"ts"}),_,s(o,{def:"includes: string",lang:"ts"}),e("p",null,[t("String that is used to control loading and serialization on the server. See "),s(a,{to:"/concepts/includes.html"},{default:n(()=>[t("Includes String")]),_:1}),t(" for more information.")]),s(o,{def:"items: KnockoutObservableArray<TItem>",lang:"ts"}),y,s(o,{def:"addNewItem: (): TItem",lang:"ts"}),w,s(o,{def:"deleteItem: (item: TItem): JQueryPromise<any>",lang:"ts"}),v,s(o,{def:"queryString: string",lang:"ts"}),D,s(o,{def:"search: KnockoutObservable<string>",lang:"ts"}),e("p",null,[t("Search criteria for the list. This can be easily bound to with a text box for easy search behavior. See "),s(a,{to:"/modeling/model-components/attributes/search.html"},{default:n(()=>[t("[Search]")]),_:1}),t(" for a detailed look at how searching works in Coalesce.")]),s(o,{def:"isLoading: KnockoutObservable<boolean>",lang:"ts"}),C,s(o,{def:"isLoaded: KnockoutObservable<boolean>",lang:"ts"}),k,s(o,{def:"load: (callback?: any): JQueryPromise<any>",lang:"ts"}),S,s(o,{def:"message: KnockoutObservable<string>",lang:"ts"}),M,s(o,{def:"getCount: (callback?: any): JQueryPromise<any>",lang:"ts"}),T,s(o,{def:"count: KnockoutObservable<number>",lang:"ts"}),x,s(o,{def:"totalCount: KnockoutObservable<number>",lang:"ts"}),L,s(o,{def:"nextPage: (): void",lang:"ts"}),V,s(o,{def:"nextPageEnabled: KnockoutComputed<boolean>",lang:"ts"}),P,s(o,{def:"previousPage: (): void",lang:"ts"}),O,s(o,{def:"previousPageEnabled: KnockoutComputed<boolean>",lang:"ts"}),N,s(o,{def:"page: KnockoutObservable<number>",lang:"ts"}),E,s(o,{def:"pageCount: KnockoutObservable<number>",lang:"ts"}),K,s(o,{def:"pageSize: KnockoutObservable<number>",lang:"ts"}),I,s(o,{def:"orderBy: KnockoutObservable<string>",lang:"ts"}),F,e("p",null,[t("If set to "),j,t(", default sorting behavior, including behavior defined with use of "),s(a,{to:"/modeling/model-components/attributes/default-order-by.html"},{default:n(()=>[t("[DefaultOrderBy]")]),_:1}),t(" in C# POCOs, is suppressed.")]),s(o,{def:"orderByDescending: KnockoutObservable<string>",lang:"ts"}),A,s(o,{def:"orderByToggle: (field: string): void",lang:"ts"}),B,q,R,s(o,{def:"static coalesceConfig: Coalesce.ListViewModelConfiguration<PersonList, ViewModels.Person>",lang:"ts",id:"member-class-config"}),e("p",null,[t("A static configuration object for configuring all instances of the ListViewModel's type is created. See "),s(a,{to:"/stacks/ko/client/model-config.html"},{default:n(()=>[t("ViewModel Configuration")]),_:1}),t(".")]),s(o,{def:"coalesceConfig: Coalesce.ListViewModelConfiguration<PersonList, ViewModels.Person>",lang:"ts",id:"member-instance-config"}),e("p",null,[t("An per-instance configuration object for configuring each specific ListViewModel instance is created. See "),s(a,{to:"/stacks/ko/client/model-config.html"},{default:n(()=>[t("ViewModel Configuration")]),_:1}),t(".")]),W,s(o,{def:`public filter: {
    personId?: string
    firstName?: string
    lastName?: string
    gender?: string
    companyId?: string
} = null;`,lang:"ts",id:"code-filter-object"}),J,e("p",null,[t("These parameters all allow for freeform string values, allowing the server to implement any kind of filtering logic desired. The "),s(a,{to:"/modeling/model-components/data-sources.html#standard-data-source"},{default:n(()=>[t("Standard Data Source")]),_:1}),t(" will perform the following depending on the property type:")]),Q,s(o,{def:`public readonly namesStartingWith = new Person.NamesStartingWith(this);
public static NamesStartingWith = class NamesStartingWith extends Coalesce.ClientMethod<PersonList, string[]> { ... };`,lang:"ts",id:"code-static-method-members"}),e("p",null,[t("For each exposed "),s(a,{to:"/modeling/model-components/methods.html#static-methods"},{default:n(()=>[t("Static Method")]),_:1}),t(" on your POCO, the members outlined in "),s(a,{to:"/stacks/ko/client/methods.html"},{default:n(()=>[t("Methods - Generated TypeScript")]),_:1}),t(" will be created.")]),z,s(o,{def:`
public dataSources = ListViewModels.PersonDataSources;
public dataSource: DataSource<Person> = new this.dataSources.Default();`,lang:"ts",id:"code-data-source-members"}),e("p",null,[t("For each of the "),s(a,{to:"/modeling/model-components/data-sources.html"},{default:n(()=>[t("Data Sources")]),_:1}),t(" on the class, a corresponding class will be added to a namespace named "),G,t(". This namespace can always be accessed on both "),U,t(" and "),H,t(" instances via the "),X,t(" property, and class instances can be assigned to the "),Y,t(" property.")])])}const se=r(h,[["render",Z],["__file","list-view-model.html.vue"]]);export{se as default};
